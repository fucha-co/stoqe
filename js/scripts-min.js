function resizeVid(){$(".fs-vid-background video").each(function(){var t=$(this),e=t.width()/t.height(),i=t.closest("section");i.width()>i.outerHeight()?(t.css("width",i.width()*e),t.css("margin-left",-(i.width()*e/4)),t.css("height","auto")):(t.css("width","auto"),t.css("height",i.outerHeight()*e),t.css("margin-left",0))})}function updateNav(){var t=mr_scrollTop;if(0>=t)return mr_navFixed&&(mr_navFixed=!1,mr_nav.removeClass("fixed")),mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight")),void(mr_navScrolled&&(mr_navScrolled=!1,mr_nav.removeClass("scrolled")));if(t>mr_firstSectionHeight){if(!mr_navScrolled)return mr_nav.addClass("scrolled"),void(mr_navScrolled=!0)}else t>mr_navOuterHeight?(mr_navFixed||(mr_nav.addClass("fixed"),mr_navFixed=!0),t>2*mr_navOuterHeight?mr_outOfSight||(mr_nav.addClass("outOfSight"),mr_outOfSight=!0):mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight"))):(mr_navFixed&&(mr_navFixed=!1,mr_nav.removeClass("fixed")),mr_outOfSight&&(mr_outOfSight=!1,mr_nav.removeClass("outOfSight"))),mr_navScrolled&&(mr_navScrolled=!1,mr_nav.removeClass("scrolled"))}function capitaliseFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function masonryFlyIn(){var t=$(".masonryFlyIn .masonry-item"),e=0;t.each(function(){var t=$(this);setTimeout(function(){t.addClass("fadeIn")},e),e+=170})}function setupFloatingProjectFilters(){mr_floatingProjectSections=[],$(".filters.floating").closest("section").each(function(){var t=$(this);mr_floatingProjectSections.push({section:t.get(0),outerHeight:t.outerHeight(),elemTop:t.offset().top,elemBottom:t.offset().top+t.outerHeight(),filters:t.find(".filters.floating"),filersHeight:t.find(".filters.floating").outerHeight(!0)})})}function updateFloatingFilters(){for(var t=mr_floatingProjectSections.length;t--;){var e=mr_floatingProjectSections[t];e.elemTop<mr_scrollTop?(e.filters.css({position:"fixed",top:"16px",bottom:"auto"}),mr_navScrolled&&e.filters.css({transform:"translate3d(-50%,48px,0)"}),mr_scrollTop>e.elemBottom-70&&(e.filters.css({position:"absolute",bottom:"16px",top:"auto"}),e.filters.css({transform:"translate3d(-50%,0,0)"}))):e.filters.css({position:"absolute",transform:"translate3d(-50%,0,0)"})}}var mr_firstSectionHeight,mr_nav,mr_navOuterHeight,mr_navScrolled=!1,mr_navFixed=!1,mr_outOfSight=!1,mr_floatingProjectSections,mr_scrollTop=0;$(document).ready(function(){"use strict";function t(t){var e,i,o;return $(t).find('.validate-required[type="checkbox"]').each(function(){$('[name="'+$(this).attr("name")+'"]:checked').length||(i=1,e=$(this).attr("name").replace("[]",""),t.find(".form-error").text("Please tick at least one "+e+" box."))}),$(t).find(".validate-required").each(function(){""===$(this).val()?($(this).addClass("field-error"),i=1):$(this).removeClass("field-error")}),$(t).find(".validate-email").each(function(){/(.+)@(.+){2,}\.(.+){2,}/.test($(this).val())?$(this).removeClass("field-error"):($(this).addClass("field-error"),i=1)}),t.find(".field-error").length||t.find(".form-error").fadeOut(1e3),i}function e(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}$(".inner-link").smoothScroll({offset:-55,speed:800}),addEventListener("scroll",function(){mr_scrollTop=window.pageYOffset},!1),$(".background-image-holder").each(function(){var t=$(this).children("img").attr("src");$(this).css("background",'url("'+t+'")'),$(this).children("img").hide(),$(this).css("background-position","initial")}),setTimeout(function(){$(".background-image-holder").each(function(){$(this).addClass("fadeIn")})},200),$('[data-toggle="tooltip"]').tooltip(),$(".checkbox-option").click(function(){$(this).toggleClass("checked");var t=$(this).find("input");t.prop("checked")===!1?t.prop("checked",!0):t.prop("checked",!1)}),$(".radio-option").click(function(){$(this).closest("form").find(".radio-option").removeClass("checked"),$(this).addClass("checked"),$(this).find("input").prop("checked",!0)}),$(".accordion li").click(function(){$(this).closest(".accordion").hasClass("one-open")?($(this).closest(".accordion").find("li").removeClass("active"),$(this).addClass("active")):$(this).toggleClass("active")}),$(".tabbed-content").each(function(){$(this).append('<ul class="content"></ul>')}),$(".tabs li").each(function(){var t=$(this),e="";t.is(".tabs li:first-child")&&(e=' class="active"');var i=t.find(".tab-content").detach().wrap("<li"+e+"></li>").parent();t.closest(".tabbed-content").find(".content").append(i)}),$(".tabs li").click(function(){$(this).closest(".tabs").find("li").removeClass("active"),$(this).addClass("active");var t=$(this).index()+1;$(this).closest(".tabbed-content").find(".content>li").removeClass("active"),$(this).closest(".tabbed-content").find(".content>li:nth-of-type("+t+")").addClass("active")}),$(".progress-bar").each(function(){$(this).css("width",$(this).attr("data-progress")+"%")}),$("nav").hasClass("fixed")||$("nav").hasClass("absolute")?$("body").addClass("nav-is-overlay"):($(".nav-container").css("min-height",$("nav").outerHeight(!0)),$(window).resize(function(){$(".nav-container").css("min-height",$("nav").outerHeight(!0))}),$(window).width()>768&&$(".parallax:nth-of-type(1) .background-image-holder").css("top",-$("nav").outerHeight(!0)),$(window).width()>768&&$("section.fullscreen:nth-of-type(1)").css("height",$(window).height()-$("nav").outerHeight(!0))),$("nav").hasClass("bg-dark")&&$(".nav-container").addClass("bg-dark"),mr_nav=$("body .nav-container nav:first"),mr_navOuterHeight=$("body .nav-container nav:first").outerHeight(),window.addEventListener("scroll",updateNav,!1),$(".menu > li > ul").each(function(){var t=$(this).offset(),e=t.left+$(this).outerWidth(!0);if(e>$(window).width()&&!$(this).hasClass("mega-menu"))$(this).addClass("make-right");else if(e>$(window).width()&&$(this).hasClass("mega-menu")){var i=$(window).width()-t.left,o=$(this).outerWidth(!0)-i;$(this).css("margin-left",-o)}}),$(".mobile-toggle").click(function(){$(".nav-bar").toggleClass("nav-open"),$(this).toggleClass("active")}),$(".menu li").click(function(t){t||(t=window.event),t.stopPropagation(),$(this).find("ul").length?$(this).toggleClass("toggle-sub"):$(this).parents(".toggle-sub").removeClass("toggle-sub")}),$(".module.widget-handle").click(function(){$(this).toggleClass("toggle-widget-handle")}),$(".projects").each(function(){var t="";$(this).find(".project").each(function(){var e=$(this).attr("data-filter").split(",");e.forEach(function(e){-1==t.indexOf(e)&&(t+='<li data-filter="'+e+'">'+capitaliseFirstLetter(e)+"</li>")}),$(this).closest(".projects").find("ul.filters").empty().append('<li data-filter="all" class="active">All</li>').append(t)})}),$(".filters li").click(function(){var t=$(this).attr("data-filter");$(this).closest(".filters").find("li").removeClass("active"),$(this).addClass("active"),$(this).closest(".projects").find(".project").each(function(){var e=$(this).data("filter");-1==e.indexOf(t)?$(this).addClass("inactive"):$(this).removeClass("inactive")}),"all"==t&&$(this).closest(".projects").find(".project").removeClass("inactive")}),$(".tweets-feed").each(function(t){$(this).attr("id","tweets-"+t)}).each(function(t){function e(e){for(var i=e.length,o=0,n=document.getElementById("tweets-"+t),a='<ul class="slides">';i>o;)a+="<li>"+e[o]+"</li>",o++;return a+="</ul>",n.innerHTML=a,a}twitterFetcher.fetch($("#tweets-"+t).attr("data-widget-id"),"",5,!0,!0,!0,"",!1,e)}),jQuery.fn.spectragram.accessData={accessToken:"1406933036.fedaafa.feec3d50f5194ce5b705a1f11a107e0b",clientID:"fedaafacf224447e8aef74872d3820a1"},$(".instafeed").each(function(){$(this).children("ul").spectragram("getUserFeed",{query:$(this).attr("data-user-name"),max:12})}),$(".slider-all-controls").flexslider({}),$(".slider-paging-controls").flexslider({animation:"slide",directionNav:!1}),$(".slider-arrow-controls").flexslider({controlNav:!1}),$(".slider-thumb-controls .slides li").each(function(){var t=$(this).find("img").attr("src");$(this).attr("data-thumb",t)}),$(".slider-thumb-controls").flexslider({animation:"slide",controlNav:"thumbnails",directionNav:!0}),$(".logo-carousel").flexslider({minItems:1,maxItems:4,move:1,itemWidth:200,itemMargin:0,animation:"slide",slideshow:!0,slideshowSpeed:3e3,directionNav:!1,controlNav:!1}),$(".lightbox-grid li a").each(function(){var t=$(this).closest(".lightbox-grid").attr("data-gallery-title");$(this).attr("data-lightbox",t)}),$("section").closest("body").find(".modal-video[video-link]").remove(),$(".modal-video-container").each(function(t){$(this).find(".play-button").attr("video-link",t),$(this).find(".modal-video").clone().appendTo("body").attr("video-link",t)}),$(".modal-video-container .play-button").click(function(){var t=$("section").closest("body").find('.modal-video[video-link="'+$(this).attr("video-link")+'"]');if(t.toggleClass("reveal-modal"),t.find("video").length&&t.find("video").get(0).play(),t.find("iframe").length){var e=t.find("iframe"),i=e.attr("data-src")+"&autoplay=1";e.attr("src",i)}}),$("section").closest("body").find(".close-iframe").click(function(){$(this).closest(".modal-video").toggleClass("reveal-modal"),$(this).siblings("iframe").attr("src",""),$(this).siblings("video").get(0).pause()}),$("section").closest("body").find(".local-video-container .play-button").click(function(){$(this).siblings(".background-image-holder").removeClass("fadeIn"),$(this).siblings(".background-image-holder").css("z-index",-1),$(this).css("opacity",0),$(this).siblings("video").get(0).play()}),$("section").closest("body").find(".player").each(function(){var t=$(this).attr("data-video-id"),e=$(this).attr("data-start-at");$(this).attr("data-property","{videoURL:'http://youtu.be/"+t+"',containment:'self',autoPlay:true, mute:true, startAt:"+e+", opacity:1, showControls:false}")}),$("section").closest("body").find(".player").YTPlayer(),$(window).resize(function(){resizeVid()}),$(".map-holder").click(function(){$(this).addClass("interact")}),$(window).scroll(function(){$(".map-holder.interact").length&&$(".map-holder.interact").removeClass("interact")}),$(".countdown").length&&$(".countdown").each(function(){var t=$(this).attr("data-date");$(this).countdown(t,function(t){$(this).text(t.strftime("%D days %H:%M:%S"))})}),$("form.form-email, form.form-newsletter").submit(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=$(this).closest("form.form-email, form.form-newsletter"),o=0,n=i.attr("original-error"),a,r,s,l,d,c,f;return r=$(i).find("iframe.mail-list-form"),i.find(".form-error, .form-success").remove(),i.append('<div class="form-error" style="display: none;">'+i.attr("data-error")+"</div>"),i.append('<div class="form-success" style="display: none;">'+i.attr("data-success")+"</div>"),r.length&&"undefined"!=typeof r.attr("srcdoc")&&""!==r.attr("srcdoc")?(console.log("Mail list form signup detected."),s=$(i).find(".signup-email-field").val(),l=$(i).find(".signup-name-field").val(),d=$(i).find("input.signup-first-name-field").length?$(i).find("input.signup-first-name-field").val():$(i).find(".signup-name-field").val(),c=$(i).find(".signup-last-name-field").val(),1!==t(i)?(console.log("Mail list signup form validation passed."),console.log(s),console.log(c),console.log(d),console.log(l),r.contents().find("#mce-EMAIL, #fieldEmail").val(s),r.contents().find("#mce-LNAME, #fieldLastName").val(c),r.contents().find("#mce-FNAME, #fieldFirstName").val(d),r.contents().find("#mce-NAME, #fieldName").val(l),r.contents().find("form").attr("target","_blank").submit(),f=i.attr("success-redirect"),"undefined"!=typeof f&&f!==!1&&""!==f&&(window.location=f)):(i.find(".form-error").fadeIn(1e3),setTimeout(function(){i.find(".form-error").fadeOut(500)},5e3))):(console.log("Send email form detected."),"undefined"!=typeof n&&n!==!1&&i.find(".form-error").text(n),o=t(i),1===o?($(this).closest("form").find(".form-error").fadeIn(200),setTimeout(function(){$(i).find(".form-error").fadeOut(500)},3e3)):($(this).closest("form").find(".form-error").fadeOut(200),a=jQuery("<div />").addClass("form-loading").insertAfter($(i).find('input[type="submit"]')),$(i).find('input[type="submit"]').hide(),jQuery.ajax({type:"POST",url:"mail/mail.php",data:i.serialize(),success:function(t){$(i).find(".form-loading").remove(),f=i.attr("success-redirect"),"undefined"!=typeof f&&f!==!1&&""!==f&&(window.location=f),$(i).find('input[type="submit"]').show(),$.isNumeric(t)?parseInt(t)>0&&(i.find('input[type="text"]').val(""),i.find("textarea").val(""),i.find(".form-success").fadeIn(1e3),i.find(".form-error").fadeOut(1e3),setTimeout(function(){i.find(".form-success").fadeOut(500)},5e3)):(i.find(".form-error").attr("original-error",i.find(".form-error").text()),i.find(".form-error").text(t).fadeIn(1e3),i.find(".form-success").fadeOut(1e3))},error:function(t,e,o){i.find(".form-error").attr("original-error",i.find(".form-error").text()),i.find(".form-error").text(o).fadeIn(1e3),i.find(".form-success").fadeOut(1e3),$(i).find(".form-loading").remove(),$(i).find('input[type="submit"]').show()}}))),!1}),$(".validate-required, .validate-email").on("blur change",function(){t($(this).closest("form"))}),$("form").each(function(){$(this).find(".form-error").length&&$(this).attr("original-error",$(this).find(".form-error").text())}),e("ref")&&$("form.form-email").append('<input type="text" name="referrer" class="hidden" value="'+e("ref")+'"/>'),/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)&&$("section").removeClass("parallax")}),$(window).load(function(){"use strict";if($(".masonry").length){var t=document.querySelector(".masonry"),e=new Masonry(t,{itemSelector:".masonry-item"});e.on("layoutComplete",function(){mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(!0),$(".filters.floating").length&&(setupFloatingProjectFilters(),updateFloatingFilters(),window.addEventListener("scroll",updateFloatingFilters,!1)),$(".masonry").addClass("fadeIn"),$(".masonry-loader").addClass("fadeOut"),$(".masonryFlyIn").length&&masonryFlyIn()}),e.layout()}resizeVid();var i=setInterval(function(){return $(".tweets-slider").find("li.flex-active-slide").length?void clearInterval(i):void($(".tweets-slider").length&&$(".tweets-slider").flexslider({directionNav:!1,controlNav:!1}))},500);mr_firstSectionHeight=$(".main-container section:nth-of-type(1)").outerHeight(!0)});
//# sourceMappingURL=./scripts-min.js.map